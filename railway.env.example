# ===========================================
# EVOLUTION API - CONFIGURACIÓN PARA RAILWAY
# ===========================================

# ===========================================
# CONFIGURACIÓN DEL SERVIDOR
# ===========================================
SERVER_TYPE=http
SERVER_PORT=8080
SERVER_URL=https://tu-app.railway.app
SERVER_DISABLE_DOCS=false
SERVER_DISABLE_MANAGER=false

# ===========================================
# CONFIGURACIÓN CORS
# ===========================================
CORS_ORIGIN=*
CORS_METHODS=POST,GET,PUT,DELETE
CORS_CREDENTIALS=true

# ===========================================
# CONFIGURACIÓN SSL (OPCIONAL)
# ===========================================
SSL_CONF_PRIVKEY=
SSL_CONF_FULLCHAIN=

# ===========================================
# CONFIGURACIÓN DEL PROVEEDOR DE SESIONES
# ===========================================
PROVIDER_ENABLED=false
PROVIDER_HOST=
PROVIDER_PORT=5656
PROVIDER_PREFIX=evolution

# ===========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===========================================
# Railway proporcionará automáticamente DATABASE_URL
# Usa esta variable para PostgreSQL en Railway
DATABASE_CONNECTION_URI=${DATABASE_URL}
DATABASE_CONNECTION_CLIENT_NAME=evolution
DATABASE_PROVIDER=postgresql

# Configuración de guardado de datos
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_HISTORIC=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_IS_ON_WHATSAPP=true
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=false

# ===========================================
# CONFIGURACIÓN DE CACHE REDIS
# ===========================================
# Railway proporcionará automáticamente REDIS_URL
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=${REDIS_URL}
CACHE_REDIS_PREFIX_KEY=evolution-cache
CACHE_REDIS_TTL=604800
CACHE_REDIS_SAVE_INSTANCES=true

# Cache local (fallback)
CACHE_LOCAL_ENABLED=true
CACHE_LOCAL_TTL=86400

# ===========================================
# CONFIGURACIÓN DE AUTENTICACIÓN
# ===========================================
AUTHENTICATION_API_KEY=tu-clave-secreta-aqui
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=false

# ===========================================
# CONFIGURACIÓN DE LOGS
# ===========================================
LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS,WEBSOCKET
LOG_COLOR=true
LOG_BAILEYS=error

# ===========================================
# CONFIGURACIÓN DE INSTANCIAS
# ===========================================
DEL_INSTANCE=false
DEL_TEMP_INSTANCES=true
LANGUAGE=es

# ===========================================
# CONFIGURACIÓN DE QR CODE
# ===========================================
QRCODE_LIMIT=30
QRCODE_COLOR=#198754

# ===========================================
# CONFIGURACIÓN DE SESIÓN TELEFÓNICA
# ===========================================
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome

# ===========================================
# CONFIGURACIÓN DE WEBHOOKS (OPCIONAL)
# ===========================================
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Eventos de webhook (configurar según necesidades)
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_INSTANCE_CREATE=false
WEBHOOK_EVENTS_INSTANCE_DELETE=false
WEBHOOK_EVENTS_QRCODE_UPDATED=false
WEBHOOK_EVENTS_MESSAGES_SET=false
WEBHOOK_EVENTS_MESSAGES_UPSERT=false
WEBHOOK_EVENTS_MESSAGES_EDITED=false
WEBHOOK_EVENTS_MESSAGES_UPDATE=false
WEBHOOK_EVENTS_MESSAGES_DELETE=false
WEBHOOK_EVENTS_SEND_MESSAGE=false
WEBHOOK_EVENTS_SEND_MESSAGE_UPDATE=false
WEBHOOK_EVENTS_CONTACTS_SET=false
WEBHOOK_EVENTS_CONTACTS_UPDATE=false
WEBHOOK_EVENTS_CONTACTS_UPSERT=false
WEBHOOK_EVENTS_PRESENCE_UPDATE=false
WEBHOOK_EVENTS_CHATS_SET=false
WEBHOOK_EVENTS_CHATS_UPDATE=false
WEBHOOK_EVENTS_CHATS_UPSERT=false
WEBHOOK_EVENTS_CHATS_DELETE=false
WEBHOOK_EVENTS_CONNECTION_UPDATE=false
WEBHOOK_EVENTS_LABELS_EDIT=false
WEBHOOK_EVENTS_LABELS_ASSOCIATION=false
WEBHOOK_EVENTS_GROUPS_UPSERT=false
WEBHOOK_EVENTS_GROUPS_UPDATE=false
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=false
WEBHOOK_EVENTS_CALL=false
WEBHOOK_EVENTS_TYPEBOT_START=false
WEBHOOK_EVENTS_TYPEBOT_CHANGE_STATUS=false
WEBHOOK_EVENTS_ERRORS=false
WEBHOOK_EVENTS_ERRORS_WEBHOOK=

# Configuración de reintentos de webhook
WEBHOOK_REQUEST_TIMEOUT_MS=30000
WEBHOOK_RETRY_MAX_ATTEMPTS=10
WEBHOOK_RETRY_INITIAL_DELAY_SECONDS=5
WEBHOOK_RETRY_USE_EXPONENTIAL_BACKOFF=true
WEBHOOK_RETRY_MAX_DELAY_SECONDS=300
WEBHOOK_RETRY_JITTER_FACTOR=0.2
WEBHOOK_RETRY_NON_RETRYABLE_STATUS_CODES=400,401,403,404,422

# ===========================================
# CONFIGURACIÓN DE WEBSOCKET
# ===========================================
WEBSOCKET_ENABLED=true
WEBSOCKET_GLOBAL_EVENTS=true

# ===========================================
# CONFIGURACIÓN DE PUSHER (OPCIONAL)
# ===========================================
PUSHER_ENABLED=false
PUSHER_GLOBAL_ENABLED=false
PUSHER_GLOBAL_APP_ID=
PUSHER_GLOBAL_KEY=
PUSHER_GLOBAL_SECRET=
PUSHER_GLOBAL_CLUSTER=
PUSHER_GLOBAL_USE_TLS=true

# ===========================================
# CONFIGURACIÓN DE RABBITMQ (OPCIONAL)
# ===========================================
RABBITMQ_ENABLED=false
RABBITMQ_URI=
RABBITMQ_GLOBAL_ENABLED=false
RABBITMQ_PREFIX_KEY=
RABBITMQ_EXCHANGE_NAME=evolution_exchange
RABBITMQ_FRAME_MAX=8192

# ===========================================
# CONFIGURACIÓN DE NATS (OPCIONAL)
# ===========================================
NATS_ENABLED=false
NATS_URI=
NATS_GLOBAL_ENABLED=false
NATS_PREFIX_KEY=
NATS_EXCHANGE_NAME=evolution_exchange

# ===========================================
# CONFIGURACIÓN DE SQS (OPCIONAL)
# ===========================================
SQS_ENABLED=false
SQS_ACCESS_KEY_ID=
SQS_SECRET_ACCESS_KEY=
SQS_ACCOUNT_ID=
SQS_REGION=

# ===========================================
# CONFIGURACIÓN DE WHATSAPP BUSINESS
# ===========================================
WA_BUSINESS_TOKEN_WEBHOOK=evolution
WA_BUSINESS_URL=https://graph.facebook.com
WA_BUSINESS_VERSION=v18.0
WA_BUSINESS_LANGUAGE=es

# ===========================================
# CONFIGURACIÓN DE INTEGRACIONES (OPCIONAL)
# ===========================================

# Typebot
TYPEBOT_ENABLED=false
TYPEBOT_API_VERSION=old
TYPEBOT_SEND_MEDIA_BASE64=false

# Chatwoot
CHATWOOT_ENABLED=false
CHATWOOT_MESSAGE_DELETE=false
CHATWOOT_MESSAGE_READ=false
CHATWOOT_BOT_CONTACT=true
CHATWOOT_IMPORT_DATABASE_CONNECTION_URI=
CHATWOOT_IMPORT_PLACEHOLDER_MEDIA_MESSAGE=false

# OpenAI
OPENAI_ENABLED=false
OPENAI_API_KEY_GLOBAL=

# Dify
DIFY_ENABLED=false

# N8N
N8N_ENABLED=false

# EvoAI
EVOAI_ENABLED=false

# Flowise
FLOWISE_ENABLED=false

# ===========================================
# CONFIGURACIÓN DE S3 (OPCIONAL)
# ===========================================
S3_ENABLED=false
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT=
S3_BUCKET=
S3_PORT=9000
S3_USE_SSL=true
S3_REGION=
S3_SKIP_POLICY=false

# ===========================================
# CONFIGURACIÓN DE ENTORNO
# ===========================================
NODE_ENV=production
DOCKER_ENV=true
